<div class="page">
  <div class="content">
    <h1 class="title">Portfolio &amp; Compliance Dashboard</h1>

    <!-- KPI cards -->
    <section class="section">
      <div class="kpi-grid">
        <p-card class="kpi">
          <div class="kpi-title">Net Asset Value (NAV)</div>
          <div class="kpi-value">${{ (nav() ?? 0) | number: '1.0-2' }}</div>
        </p-card>

        <p-card class="kpi">
          <div class="kpi-title">Performance (%)</div>
          <div
            class="kpi-value"
            [ngClass]="{
              'green': (perfPct() ?? 0) > 0,
              'red': (perfPct() ?? 0) < 0
            }"
          >
            {{ (perfPct() ?? 0) | number:'1.2-2' }}%
          </div>
        </p-card>
      </div>
    </section>

    <!-- Charts row -->
    <section class="section">
      <div class="panel-grid">
        <p-card class="panel half-width">
          <div class="panel-title">Asset Allocation</div>
          <apx-chart
            class="apex-donut"
            [series]="donutSeries()"
            [chart]="donutOptions.chart"
            [labels]="donutLabels()"
            [colors]="donutOptions.colors"
            [dataLabels]="donutOptions.dataLabels"
            [stroke]="donutOptions.stroke"
            [plotOptions]="donutOptions.plotOptions"
            [legend]="donutOptions.legend"
          >
          </apx-chart>
        </p-card>
        <p-card class="panel half-width">
          <apx-chart
            [series]="top5PerfOptions().series!"
            [chart]="top5PerfOptions().chart!"
            [xaxis]="top5PerfOptions().xaxis!"
            [yaxis]="top5PerfOptions().yaxis!"
            [plotOptions]="top5PerfOptions().plotOptions!"
            [dataLabels]="top5PerfOptions().dataLabels!"
            [legend]="top5PerfOptions().legend!">
          </apx-chart>
        </p-card>
      </div>
    </section>

  </div>
</div>
