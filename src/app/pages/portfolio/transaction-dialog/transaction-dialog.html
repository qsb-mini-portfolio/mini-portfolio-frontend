<p-dialog
  [(visible)]="visible"
  header="Update Transaction"
  [modal]="true"
  [draggable]="false"
  [focusOnShow]="false"
  [style]="{width:'520px'}">

  <form [formGroup]="transactionGroup" (ngSubmit)="submit()" class="form" id="transactionForm">
    <div class="row">
      <label>Date</label>
      <p-datePicker appendTo="body" formControlName="date" [showTime]="true" dateFormat="yy-mm-dd"></p-datePicker>
    </div>
    <div class="row">
      <label>Side</label>
      <p-select appendTo="body" formControlName="side" [options]="[{label:'BUY',value:'BUY'},{label:'SELL',value:'SELL'}]"></p-select>
    </div>
    <div class="row">
      <label>Quantity</label>
      <p-inputNumber formControlName="volume" [min]="0.01"></p-inputNumber>
    </div>
    <div class="row">
      <label>Price</label>
      <p-inputNumber formControlName="price" mode="currency" currency="USD" [min]="0.01"></p-inputNumber>
    </div>
  </form>

  <ng-template pTemplate="footer">
    <button pButton 
      type="button" 
      pButtonLabel="Delete" 
      class="btn-delete" 
      (click)="deleteTransaction()"
      [disabled]="transactionGroup.invalid || loading()"
      style="margin-right:auto">
      {{ loading() ? 'Loading' : 'Delete' }}
    </button>

    <button pButton type="button" pButtonLabel="Cancel" class="p-button-text btn-ghost" (click)="close()">
      Cancel
    </button>
    <button pButton 
      type="submit" 
      pButtonLabel="Save"
      pButtonIcon="pi pi-check" 
      class="btn-primary" 
      form="transactionForm"
      [disabled]="transactionGroup.invalid || loading()">
      {{ loading() ? 'Loading' : 'Save' }}
    </button>
  </ng-template>

</p-dialog>
